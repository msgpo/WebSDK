if(typeof(DeviceInfo)!="object"){DeviceInfo={}}PhoneGap={queue:{ready:true,commands:[],timer:null},_constructors:[]};PhoneGap.available=DeviceInfo.uuid!=undefined;PhoneGap.exec=function(){PhoneGap.queue.commands.push(arguments);if(PhoneGap.queue.timer==null){PhoneGap.queue.timer=setInterval(PhoneGap.run_command,10)}};PhoneGap.run_command=function(){};function Acceleration(a,c,b){this.x=a;this.y=c;this.z=b;this.timestamp=new Date().getTime()}function AccelerationOptions(){this.timeout=10000}function Accelerometer(){this.lastAcceleration=null}Accelerometer.prototype.getCurrentAcceleration=function(a,e,l){try{if(!this.serviceObj){this.serviceObj=this.getServiceObj()}if(this.serviceObj==null){throw {name:"DeviceErr",message:"Could not initialize service object"}}var c={SearchCriterion:"AccelerometerAxis"};var b=this.serviceObj.ISensor.FindSensorChannel(c);var j=b.ErrorCode;var f=b.ErrorMessage;if(!(j==0||j==1012)){var h={name:"Unable to find Sensor Channel: "+j,message:f};throw h}var g=b.ReturnValue[0];var k={ChannelInfoMap:g,ListeningType:"ChannelData"};if(typeof(a)!="function"){a=function(){}}if(typeof(e)!="function"){e=function(){}}this.success_callback=a;this.error_callback=e;var d=this;this.serviceObj.ISensor.RegisterForNotification(k,function(q,p,m){try{var r={TransactionID:q};d.serviceObj.ISensor.Cancel(r);var o=new Acceleration(m.ReturnValue.XAxisData,m.ReturnValue.YAxisData,m.ReturnValue.ZAxisData);Accelerometer.lastAcceleration=o;d.success_callback(o)}catch(n){d.serviceObj.ISensor.Cancel(r);d.error_callback(n)}})}catch(h){e(h)}};Accelerometer.prototype.watchAcceleration=function(a,b,c){this.getCurrentAcceleration(a,b,c);var d=(c!=undefined)?c.frequency:10000;return setInterval(function(){navigator.accelerometer.getCurrentAcceleration(a,b,c)},d)};Accelerometer.prototype.clearWatch=function(a){clearInterval(a)};Accelerometer.prototype.getServiceObj=function(){var b;try{b=device.getServiceObject("Service.Sensor","ISensor")}catch(a){throw {name:"DeviceError",message:"Could not initialize accel service object ("+a.name+": "+a.message+")"}}return b};if(typeof navigator.accelerometer=="undefined"){navigator.accelerometer=new Accelerometer()}function Camera(){this.success_callback=null;this.error_callback=null}Camera.prototype.getPicture=function(a,b,c){try{if(!this.serviceObj){this.serviceObj=com.nokia.device.load("","com.nokia.device.camera","")}if(!this.serviceObj){throw {name:"CameraError",message:"could not load camera service"}}var e=this;e.success_callback=a;e.error_callback=b;this.serviceObj.startCamera(function(h,f,g){if(f==0){e.success_callback(g)}else{e.error_callback({name:"CameraError",message:f})}})}catch(d){b.call(d)}};if(typeof navigator.camera=="undefined"){navigator.camera=new Camera()}DeviceError.prototype=new Error();DeviceError.prototype.constructor=DeviceError;function DeviceError(b,a){this.toString=concatenate;this.code=a;this.name="DeviceException";this.message=b}function concatenate(){return(this.name+": "+this.message+" "+this.code)}function splitErrorMessage(a){if(a.search(/:/)!=-1){if((a.split(":").length)==2){return a.split(":")[1]}if((a.split(":").length)>2){return a.split(":")[2]}}return a}var __s60_start_and_wait_cb;function __s60_on_app_exit(){widget.onshow=null;if(__s60_start_and_wait_cb!=null){__s60_start_and_wait_cb()}}function __s60_on_app_start(){widget.onhide=null;widget.onshow=__s60_on_app_exit}function __s60_start_and_wait(c,a,b){__s60_start_and_wait_cb=b;widget.onhide=__s60_on_app_start;widget.openApplication(c,a)}function __s60_api_not_supported(){throw (err_ServiceNotSupported)}function __s60_enumerate_object(a,c,d,f){var b;for(b in a){var g;if(c){g=c+"."+b}else{g=b}var e=a[b];if(typeof e=="object"){__s60_enumerate_object(e,g,d,f)}else{d(g,e,f)}}}var __device_debug_on__=true;var err_missing_argument=1003;var event_cancelled=3;var err_bad_argument=1002;var err_InvalidService_Argument=1000;var err_ServiceNotReady=1006;var err_ServiceNotSupported=1004;function __device_debug(a){}function __device_handle_exception(a,b){__device_debug(b);throw (a)}function __device_typeof(a){if(a==undefined){return"undefined"}if(a instanceof Object){if(a instanceof String){return"String"}else{if(a instanceof Array){return"Array"}}}if(typeof a){if(typeof a=="object"){if(typeof a=="object"&&!a){return"null"}}else{if(typeof a=="string"){return"string"}}}}if(undefined==com){var com={}}if(typeof com!="object"){throw ("com defined as non object")}if(undefined==com.nokia){com.nokia={}}if(typeof com.nokia!="object"){throw ("com.nokia defined as non object")}if(undefined==com.nokia.device){com.nokia.device={load:__device_service_load,listServices:__device_service_list,listInterfaces:__device_service_interfaces,version:"0.1",info:"device prototype",}}else{throw ("com.nokia.device already defined")}com.nokia.device.SORT_ASCENDING=0;com.nokia.device.SORT_DESCENDING=1;com.nokia.device.SORT_BY_DATE=0;com.nokia.device.SORT_BY_SENDER=1;com.nokia.device.STATUS_READ=0;com.nokia.device.STATUS_UNREAD=1;var __device_services_inited=false;var __device_services=[{name:"com.nokia.device",version:0.1,interfaces:[]}];function __device_services_init(){if(__device_services_inited){return}__device_services_inited=true;try{__device_services[0].interfaces.push(__device_geolocation_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_camera_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_media_service_entry)}catch(a){}try{__device_services[0].interfaces.push(__device_contacts_service_entry)}catch(a){}try{__device_services[0].interfaces.push(__device_messaging_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_calendar_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_landmarks_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_event_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_sysinfo_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}try{__device_services[0].interfaces.push(__device_sensors_service_entry)}catch(a){__device_debug("Missing library implementation: "+a)}}function __device_get_implementation(a){return new a.proto(new (a.providers[0].instance))}function __device_get_descriptor(a){return new a.descriptor(new (a.providers[0].descriptor))}function __device_get_interface(c,e,a){var b=c.interfaces;if((e==null)||(e=="")){return __device_get_implementation(b[0])}for(var f in b){if(b[f].name==null){__device_update_descriptor(b[f])}if(b[f].name==undefined){continue}if(b[f].name==e){if((a==null)||(a=="")||(b[f].version>=a)){return __device_get_implementation(b[f])}}}return null}function __device_service_load(d,e,a){__device_services_init();if((d!=null)&&(d!="")&&(d!="*")){for(var c in __device_services){if(d==__device_services[c].name){return __device_get_interface(__device_services[c],e,a)}}}else{for(var c in __device_services){var b=__device_get_interface(__device_services[c],e,a);if(b!=null){return b}}}return null}function __device_update_descriptor(a){var b=__device_get_descriptor(a);a.name=b.interfaceName;a.version=b.version}function __device_interface_list(c){var a=new Array();for(var b in c.interfaces){if(c.interfaces[b].name==null){__device_update_descriptor(c.interfaces[b])}if(c.interfaces[b].name==undefined){continue}a[b]=new Object();a[b].name=c.interfaces[b].name;a[b].version=c.interfaces[b].version}return a}function __device_service_descriptor(a){this.name=a.name;this.version=a.version;this.interfaces=__device_interface_list(a);this.toString=__device_service_descriptor_to_string}function __device_service_descriptor_to_string(){var a="\nInterfaces(s): ";for(i in this.interfaces){a+="\n"+this.interfaces[i].name+" "+this.interfaces[0].version}return("Service: "+this.name+a)}function __device_service_list(f,h,g){__device_services_init();var b=new Array();var d=0;if((f==null)||(f=="")){f=".*"}if((h==null)||(h=="")){h=".*"}if((typeof f!="string")||(typeof h!="string")){return b}var c=new RegExp(f);var a=new RegExp(h);for(var j in __device_services){if(c.test(__device_services[j].name)){for(var e in __device_services[j].interfaces){if(__device_services[j].interfaces[e].name==null){__device_update_descriptor(__device_services[j].interfaces[e])}if(__device_services[j].interfaces[e].name==undefined){continue}if(a.test(__device_services[j].interfaces[e].name)){if((g==null)||(g=="")||(__device_services[j].interfaces[e].version>=g)){b[d]=new __device_service_descriptor(__device_services[j]);break}}}}++d}return b}function __device_service_interfaces(b){__device_services_init();if(b==null||b==undefined||b==""){throw new DeviceError("Framework: listInterfaces: serviceName is missing",err_missing_argument)}for(var a in __device_services){if(__device_services[a].name==b){return __device_interface_list(__device_services[a])}}return null}function modifyObjectBaseProp(a){for(pro in a){if(typeof a[pro]=="function"){a[pro]=0}}}function __sp_camera_descriptor(){this.interfaceName="com.nokia.device.camera";this.version="0.1"}var __sp_camera_start_date;function __sp_camera_instance(){this.descriptor=new __sp_camera_descriptor();this.startCamera=__sp_startCamera;this.stopViewfinder=__s60_api_not_supported;this.takePicture=__s60_api_not_supported}var CAMERA_APP_ID=270501242;function __sp_startCamera(a){if(a==null){throw new DeviceError("Camera:startCamera:callback is missing",err_missing_argument)}if(typeof(a)!="function"){throw new DeviceError("Camera:startCamera:callback is a non-function",err_bad_argument)}var c=function(){var f=function(p,o,n){var m=n.ReturnValue;var s;var r=new Array();while((s=m.getNext())!=undefined){var q=new Date(Date.parse(s.FileDate));if(q>__sp_camera_start_date){var k=s.FileNameAndPath.replace(/\\/g,"/");var t="file:///";r.unshift(t+k)}}var e=0;var l=0;a(e,l,r)};try{var d=device.getServiceObject("Service.MediaManagement","IDataSource")}catch(h){__device_handle_exception(h,"media service not available : "+h)}var j=new Object();modifyObjectBaseProp(j);j.Type="FileInfo";j.Filter=new Object();modifyObjectBaseProp(j.Filter);j.Filter.FileType="Image";j.Sort=new Object();modifyObjectBaseProp(j.Sort);j.Sort.Key="FileDate";j.Sort.Order="Descending";try{var g=d.IDataSource.GetList(j,f)}catch(h){__device_handle_exception(h,"media service GetList failed: "+h)}};__sp_camera_start_date=new Date();__s60_start_and_wait(CAMERA_APP_ID,"",c);var b=0;return b}var __device_camera_service_entry={name:null,version:null,proto:__device_camera,descriptor:__device_camera_descriptor,providers:[{descriptor:__sp_camera_descriptor,instance:__sp_camera_instance}]};function __device_camera_descriptor(a){this.interfaceName=a.interfaceName;this.version=a.version}function __device_camera(a){this.provider=a;this.interfaceName=a.descriptor.interfaceName;this.version=a.descriptor.version;this.startCamera=__device_camera_startCamera;this.stopViewfinder=__device_camera_stopViewfinder;this.takePicture=__device_camera_takePicture}function __device_camera_startCamera(a){return this.provider.startCamera(a)}function __device_camera_stopViewfinder(){this.provider.stopViewfinder()}function __device_camera_takePicture(a){this.provider.takePicture(a)}function Contact(a){this.firstName="";this.lastName="";this.name="";this.phones={};this.emails={};this.address=""}Contact.prototype.displayName=function(){return this.name};function ContactManager(){this.contacts=[];this.timestamp=new Date().getTime()}ContactManager.prototype.getAllContacts=function(a,b,c){try{this.contactsService=device.getServiceObject("Service.Contact","IDataSource");var f=new Object();f.Type="Contact";if(typeof(a)!="function"){a=function(){}}if(typeof(b)!="function"){b=function(){}}this.global_success=a;var e=this;this.contactsService.IDataSource.GetList(f,function(j,h,g){e.success_callback(g.ReturnValue)})}catch(d){b(d)}};ContactManager.prototype.success_callback=function(b){var c=new Array();b.reset();var a;while((a=b.getNext())!=undefined){try{var d=new Contact();d.firstName=ContactManager.GetValue(a,"FirstName");d.lastName=ContactManager.GetValue(a,"LastName");d.name=d.firstName+" "+d.lastName;d.emails=ContactManager.getEmailsList(a);d.phones=ContactManager.getPhonesList(a);d.address=ContactManager.getAddress(a);c.push(d)}catch(f){alert("ContactsError ("+f.name+": "+f.message+")")}}this.contacts=c;this.global_success(c)};ContactManager.getEmailsList=function(a){var b;try{b={Home:ContactManager.GetValue(a,"EmailHome"),Work:ContactManager.GetValue(a,"EmailWork"),General:ContactManager.GetValue(a,"EmailGen")}}catch(c){b={}}return b};ContactManager.getPhonesList=function(a){var b;try{b={Home:ContactManager.GetValue(a,"LandPhoneGen"),Mobile:ContactManager.GetValue(a,"MobilePhoneGen"),Fax:ContactManager.GetValue(a,"FaxNumberGen"),Work:ContactManager.GetValue(a,"LandPhoneWork"),WorkMobile:ContactManager.GetValue(a,"MobilePhoneWork")}}catch(c){b={}}return b};ContactManager.getAddress=function(a){var b="";try{b=ContactManager.GetValue(a,"AddrLabelHome")+", "+ContactManager.GetValue(a,"AddrStreetHome")+", "+ContactManager.GetValue(a,"AddrLocalHome")+", "+ContactManager.GetValue(a,"AddrRegionHome")+", "+ContactManager.GetValue(a,"AddrPostCodeHome")+", "+ContactManager.GetValue(a,"AddrCountryHome")}catch(c){b=""}return b};ContactManager.GetValue=function(b,a){try{return b[a]["Value"]}catch(c){return""}};if(typeof navigator.ContactManager=="undefined"){navigator.ContactManager=new ContactManager()}PhoneGap.ExtendWrtDeviceObj=function(){if(!window.device){window.device={}}navigator.device=window.device;try{if(window.menu){window.menu.hideSoftkeys()}device.available=PhoneGap.available;device.platform=null;device.version=null;device.name=null;device.uuid=null;var c=device.getServiceObject("Service.SysInfo","ISysInfo");var a=PhoneGap.GetWrtPlatformVersion(c);device.platform=a.platform;device.version=a.version;device.uuid=PhoneGap.GetWrtDeviceProperty(c,"IMEI");device.name=PhoneGap.GetWrtDeviceProperty(c,"PhoneModel")}catch(b){device.available=false}};PhoneGap.GetWrtDeviceProperty=function(b,c){var d={Entity:"Device",Key:c};var a=b.ISysInfo.GetInfo(d);if(a.ErrorCode==0){return a.ReturnValue.StringData}else{return null}};PhoneGap.GetWrtPlatformVersion=function(c){var d={Entity:"Device",Key:"PlatformVersion"};var a=c.ISysInfo.GetInfo(d);if(a.ErrorCode==0){var b={};b.platform=a.ReturnValue.MajorVersion;b.version=a.ReturnValue.MinorVersion;return b}else{return null}};PhoneGap.ExtendWrtDeviceObj();function Geolocation(){this.lastPosition=null;this.lastError=null;this.callbacks={onLocationChanged:[],onError:[]}}Geolocation.prototype.getCurrentPosition=function(c,f,j){var g=0;if(this.lastPosition){g=this.lastPosition.timeout}else{this.start(j)}var h=20000;var b=500;if(typeof(j)=="object"&&j.interval){b=j.interval}if(typeof(c)!="function"){c=function(){}}if(typeof(f)!="function"){f=function(){}}var d=this;var e=0;var a=setInterval(function(){e+=b;if(typeof(d.lastPosition)=="object"&&d.lastPosition.timestamp>g){c(d.lastPosition);clearInterval(a)}else{if(e>=h){f();clearInterval(a)}}},b)};Geolocation.prototype.watchPosition=function(a,b,c){this.getCurrentPosition(a,b,c);var e=10000;if(typeof(c)=="object"&&c.frequency){e=c.frequency}var d=this;return setInterval(function(){d.getCurrentPosition(a,b,c)},e)};Geolocation.prototype.clearWatch=function(a){clearInterval(a)};Geolocation.prototype.start=function(c){var e=device.getServiceObject("Service.Location","ILocation");var b=new Object();b.PartialUpdates=true;if(typeof(c)=="object"&&c.timeout){b.UpdateTimeOut=c.timeout*1000}if(typeof(c)=="object"&&c.interval){b.UpdateInterval=c.interval*1000}var d=new Object();d.LocationInformationClass="GenericLocationInfo";d.Updateoptions=b;var a=this;e.ILocation.Trace(d,function(l,g,f){var k=f.ReturnValue;if(f.ErrorCode!=0||isNaN(k.Latitude)){return}var j=new Coordinates(k.Latitude,k.Longitude,k.Altitude,null,k.Heading,k.HorizontalSpeed);var h=new Position(j,new Date().getTime());a.lastPosition=h})};if(typeof navigator.geolocation=="undefined"){navigator.geolocation=new Geolocation()}function Media(c,a,b){this.src=c;this.successCallback=a;this.errorCallback=b}Media.prototype.record=function(){};Media.prototype.play=function(b){if(document.getElementById("gapsound")){document.body.removeChild(document.getElementById("gapsound"))}var a;a=document.createElement("embed");a.setAttribute("id","gapsound");a.setAttribute("type","audio/x-mpeg");a.setAttribute("width","0");a.setAttribute("width","0");a.setAttribute("hidden","true");a.setAttribute("autostart","true");a.setAttribute("src",b);document.body.appendChild(a)};Media.prototype.pause=function(){};Media.prototype.stop=function(){};if(typeof navigator.media=="undefined"){navigator.media=new Media()}function Notification(){}Notification.prototype.vibrate=function(a){if(!Notification.getSysinfoObject()){Notification.embedSysinfoObject()}this.sysinfo=Notification.getSysinfoObject();this.sysinfo.startvibra(a,100)};Notification.prototype.beep=function(b,a){if(!Notification.getSysinfoObject()){Notification.embedSysinfoObject()}this.sysinfo=Notification.getSysinfoObject();this.sysinfo.beep(220,2000)};Notification.prototype.alert=function(a,c,b){alert(a)};Notification.prototype.activityStart=function(){};Notification.prototype.activityStop=function(){};Notification.prototype.blink=function(a,b){};Notification.embedSysinfoObject=function(){var a=document.createElement("embed");a.setAttribute("type","application/x-systeminfo-widget");a.setAttribute("hidden","yes");document.getElementsByTagName("body")[0].appendChild(a);return};Notification.getSysinfoObject=function(){return document.embeds[0]};if(typeof navigator.notification=="undefined"){navigator.notification=new Notification()}function Orientation(){this.currentOrientation=null}Orientation.prototype.setOrientation=function(b){if(b==this.currentOrientation){return}var a=this.currentOrientation;this.currentOrientation=b;var c=document.createEvent("Events");c.initEvent("orientationChanged","false","false");c.orientation=b;c.oldOrientation=a;document.dispatchEvent(c)};Orientation.prototype.getCurrentOrientation=function(a,e){try{if(!this.serviceObj){this.serviceObj=this.getServiceObj()}if(this.serviceObj==null){e({name:"DeviceErr",message:"Could not initialize service object"})}var c={SearchCriterion:"Orientation"};var b=this.serviceObj.ISensor.FindSensorChannel(c);var j=b.ErrorCode;var f=b.ErrorMessage;if(!(j==0||j==1012)){var h={name:"Unable to find Sensor Channel: "+j,message:f};e(h)}var g=b.ReturnValue[0];var k={ChannelInfoMap:g,ListeningType:"ChannelData"};if(typeof(a)!="function"){a=function(){}}if(typeof(e)!="function"){e=function(){}}this.success_callback=a;this.error_callback=e;var d=this;this.serviceObj.ISensor.RegisterForNotification(k,function(p,o,l){var q={TransactionID:p};try{var m=l.ReturnValue.DeviceOrientation;d.serviceObj.ISensor.Cancel(q);d.setOrientation(m);d.success_callback(m)}catch(n){d.serviceObj.ISensor.Cancel(q);d.error_callback(n)}})}catch(h){e({name:"OrientationError",message:h.name+": "+h.message})}};Orientation.prototype.watchOrientation=function(a,b,c){this.getCurrentOrientation(a,b);var d=(c!=undefined)?c.frequency:1000;return setInterval(function(){navigator.orientation.getCurrentOrientation(a,b)},d)};Orientation.prototype.clearWatch=function(a){clearInterval(a)};Orientation.prototype.getServiceObj=function(){var b;try{b=device.getServiceObject("Service.Sensor","ISensor")}catch(a){throw {name:"DeviceError",message:a.name+": "+a.message}}return b};if(typeof navigator.orientation=="undefined"){navigator.orientation=new Orientation()}function Position(b,a){this.coords=b;this.timestamp=new Date().getTime()}function Coordinates(f,a,e,d,b,c){this.latitude=f;this.longitude=a;this.accuracy=d;this.altitude=e;this.heading=b;this.speed=c}function PositionOptions(){this.enableHighAccuracy=true;this.timeout=10000}function PositionError(){this.code=null;this.message=""}PositionError.UNKNOWN_ERROR=0;PositionError.PERMISSION_DENIED=1;PositionError.POSITION_UNAVAILABLE=2;PositionError.TIMEOUT=3;function Sms(){}Sms.prototype.send=function(c,g,a,d,h){try{if(!this.serviceObj){this.serviceObj=this.getServiceObj()}var f=new Object();f.MessageType="SMS";f.To=c;f.BodyText=g;var j=this.serviceObj.IMessaging.Send(f);if(j.ErrorCode!=0&&j.ErrorCode!="0"){var b={name:"SMSError",message:j.ErrorMessage};throw b}else{a.call()}}catch(e){d.call({name:"SmsError",message:e.name+": "+e.message})}};Sms.prototype.getServiceObj=function(){var b;try{b=device.getServiceObject("Service.Messaging","IMessaging")}catch(a){throw {name:"SmsError",message:"Failed to load sms service ("+a.name+": "+a.message+")"}}return b};if(typeof navigator.sms=="undefined"){navigator.sms=new Sms()}function Storage(){this.length=null;this.available=true;this.serialized=null;this.items=null;if(!window.widget){this.available=false;return}var pref=window.widget.preferenceForKey(Storage.PREFERENCE_KEY);if(pref=="undefined"||pref==undefined){this.length=0;this.serialized="({})";this.items={};window.widget.setPreferenceForKey(this.serialized,Storage.PREFERENCE_KEY)}else{this.serialized=pref;'({"store_test": { "key": "store_test", "data": "asdfasdfs" },})';this.items=eval(this.serialized)}}Storage.PREFERENCE_KEY="phonegap_storage_pref_key";Storage.prototype.index=function(a){};Storage.prototype.getItem=function(b){try{return this.items[b].data}catch(a){return null}};Storage.prototype.setItem=function(a,b){if(!this.items[a]){this.length++}this.items[a]={key:a,data:b};this.serialize()};Storage.prototype.removeItem=function(a){if(this.items[a]){this.items[a]=undefined;this.length--}this.serialize()};Storage.prototype.clear=function(){this.length=0;this.serialized="({})";this.items={}};Storage.prototype.serialize=function(){var a="";for(key in this.items){var b=this.items[key];a+='"'+b.key+'": { "key": "'+b.key+'", "data": "'+b.data+'" }, '}window.widget.setPreferenceForKey("({"+a+"})",Storage.PREFERENCE_KEY)};if(typeof navigator.storage=="undefined"){navigator.storage=new Storage()};